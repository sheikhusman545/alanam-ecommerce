<ion-content class="login">
  <ion-button class="back-button" (click)="onBack()">
    <ion-icon name="arrow-back-outline"></ion-icon>
  </ion-button>
  <div class="phone-container">

    <div class="phone-container" *ngIf="!showOtpModal">
      <div class="logo-image">
        <img class="logo" src="assets/images/alanam-logo-dark.png" alt="logo" class="logo" />
      </div>
      <h2>{{'Login' | translate}}</h2>
      <h6 class="phone-title">{{'Enter your phone number'| translate}}</h6>
      <form [formGroup]="phoneForm" (ngSubmit)="sendOTP()">
        <ion-item>
          <ion-input type="tel" formControlName="phoneNumber" label="{{'Enter Phone Number' | translate}}"
            label-placement="floating" fill="outline" placeholder="{{'Enter Phone Number' | translate}}"></ion-input>
        </ion-item>
        <ion-button class="submit-btn" expand="block" type="submit" [disabled]="!phoneForm.valid">Send OTP</ion-button>
      </form>
    </div>
  </div>
  <div *ngIf="showOtpModal" class="otp-dialog" (click)="closeModal($event)">
    <div class="otp-container" (click)="$event.stopPropagation()">
      <h2 class="otp-title">{{'Enter OTP' | translate}}</h2>

      <form [formGroup]="otpForm" (ngSubmit)="verifyOTP()">
        <div class="otp-input-box">
          <input type="tel" formControlName="otp1" maxlength="1" (input)="moveToNext($event, 'otp2')" />
          <input type="tel" formControlName="otp2" maxlength="1" (input)="moveToNext($event, 'otp3')" />
          <input type="tel" formControlName="otp3" maxlength="1" (input)="moveToNext($event, 'otp4')" />
          <input type="tel" formControlName="otp4" maxlength="1" (input)="moveToNext($event, 'otp5')" />
          <input type="tel" formControlName="otp5" maxlength="1" (input)="moveToNext($event, 'otp6')" />
          <input type="tel" formControlName="otp6" maxlength="1" />
        </div>
        <ion-button expand="full" type="submit" [disabled]="!otpForm.valid">{{"Verify OTP" | translate}}</ion-button>
      </form>
    </div>
  </div>
</ion-content>